{% extends "base.html" %}

{% block content %}
<div class="container mt-5" style="max-width: 700px;">

    <!-- Botón Manual de Usuario -->
    <div class="mb-4 text-center">
        <a href="/static/imagen/manual.pdf" class="btn manual-btn px-4 py-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" class="bi bi-book me-2"
                viewBox="0 0 16 16">
                <path
                    d="M1 2.828c.885-.37 2.154-.828 3.5-.828 1.343 0 2.623.454 3.5.828V13c-.877-.374-2.157-.828-3.5-.828-1.346 0-2.615.46-3.5.828V2.828z" />
                <path d="M14 1H4.5a.5.5 0 0 0 0 1H14v12H4.5a.5.5 0 0 0 0 1H14a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" />
            </svg>
            Manual de Usuario
        </a>
    </div>

    <!-- Información simple -->
    <div class="mb-4 alert alert-info text-center" role="alert">
        Sigue los pasos a continuación para instalar y configurar el sistema correctamente.
    </div>

    <!-- Acordeón pasos -->
    <div class="accordion" id="installSteps" style="max-width: 700px; margin: auto;">

        <div class="accordion-item">
            <h2 class="accordion-header" id="step1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">
                    1. Crear y activar entorno virtual
                </button>
            </h2>
            <div id="collapse1" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>python -m venv venv
source venv/bin/activate  # En Windows: venv\Scripts\activate</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step2">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                    2. Instalar dependencias
                </button>
            </h2>
            <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>pip install -r requirements.txt</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step3">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                    3. Crear migraciones
                </button>
            </h2>
            <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>python manage.py makemigrations</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step4">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                    4. Migraciones de base de datos
                </button>
            </h2>
            <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>python manage.py migrate</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step5">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                    5. Crear superusuario (opcional)
                </button>
            </h2>
            <div id="collapse5" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>python manage.py createsuperuser</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step6">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse6" aria-expanded="false" aria-controls="collapse6">
                    6. Ejecutar servidor
                </button>
            </h2>
            <div id="collapse6" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <pre><code>python manage.py runserver</code></pre>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="step7">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapse7" aria-expanded="false" aria-controls="collapse7">
                    7. Usuario por defecto
                </button>
            </h2>
            <div id="collapse7" class="accordion-collapse collapse" data-bs-parent="#installSteps">
                <div class="accordion-body">
                    <p>El sistema incluye un usuario por defecto:</p>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <span class="badge bg-secondary">Usuario</span>: <code>admin</code>
                        </li>
                        <li class="list-group-item">
                            <span class="badge bg-secondary">Contraseña</span>: <code>admin</code>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div> <!-- End accordion -->

</div>

<style>
    .manual-btn {
        background-color: #ec9677;
        color: white;
        font-weight: 600;
        border-radius: 30px;
        box-shadow: 0 4px 8px rgba(236, 150, 119, 0.5);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
        display: inline-flex;
        align-items: center;
        text-decoration: none;
    }

    .manual-btn:hover {
        background-color: #fb8257;
        box-shadow: 0 6px 15px rgba(251, 130, 87, 0.7);
        color: white;
        text-decoration: none;
    }
</style>
{% endblock %}